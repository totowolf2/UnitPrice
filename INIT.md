# ЁЯУ▒ UnitPrice тАУ Mobile App Plan

---

## ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в

р╣Бр╕нр╕Юр╕бр╕╖р╕нр╕Цр╕╖р╕нр╕нр╕нр╕Яр╣Др╕ер╕Щр╣М р╕кр╕│р╕лр╕гр╕▒р╕Ъ **р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕гр╕▓р╕Др╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Хр╣Ир╕нр╕лр╕Щр╣Ир╕зр╕в**
р╣Ар╕гр╕┤р╣Ир╕бр╕Ир╕▓р╕Бр╕лр╕бр╕зр╕Фр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Ър╣Ир╕нр╕в (ml/L) р╣Бр╕Хр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Чр╕╕р╕Бр╕лр╕Щр╣Ир╕зр╕в р╣Ар╕Кр╣Ир╕Щ g/kg, ml/L, piece

---

## ЁЯЫая╕П р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б

* р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓

  * р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓
  * р╕гр╕▓р╕Др╕▓ (THB, р╕гр╕нр╕Зр╕гр╕▒р╕Ъ multi-currency р╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х)
  * р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (р╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й, default = тАЬр╕нр╕╖р╣Ир╕Щр╣ЖтАЭ)
  * р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю (р╣Ар╕ер╕╖р╕нр╕Б/р╕Цр╣Ир╕▓р╕в, р╣Др╕бр╣Ир╕бр╕╡ тЖТ placeholder)
  * р╕Ир╕│р╕Щр╕зр╕Щр╕Хр╣Ир╕нр╣Бр╕Юр╣Зр╕Д
  * р╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕Хр╣Ир╕нр╕Кр╕┤р╣Йр╕Щ
  * р╕лр╕Щр╣Ир╕зр╕вр╕Хр╣Ир╕нр╕Кр╕┤р╣Йр╕Щ (р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕▓р╕Б drop-down)

* р╕Др╕│р╕Щр╕зр╕Ур╕гр╕▓р╕Др╕▓р╕Хр╣Ир╕нр╕лр╕Щр╣Ир╕зр╕в (PPU)

* р╣Ар╕гр╕╡р╕вр╕Зр╕ер╕│р╕Фр╕▒р╕Ър╕Цр╕╣р╕Бр╕кр╕╕р╕Ф тЖТ р╣Бр╕Юр╕Зр╕кр╕╕р╕Ф

* р╕Др╣Йр╕Щр╕лр╕▓/р╕Яр╕┤р╕ер╣Ар╕Хр╕нр╕гр╣Мр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (р╕Кр╕╖р╣Ир╕н, р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И, р╕гр╕▓р╕Др╕▓)

* р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ (Session) тЖТ р╣Ар╕Бр╣Зр╕Ъ **3 р╕ер╣Ир╕▓р╕кр╕╕р╕Ф** (р╣Бр╕Ър╕Ър╕лр╕бр╕╕р╕Щ)

---

## ЁЯУК р╕лр╕Щр╣Ир╕зр╕вр╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ

* **р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б**: g, kg
* **р╕Ыр╕гр╕┤р╕бр╕▓р╕Хр╕г**: ml, L
* **р╕Кр╕┤р╣Йр╕Щ**: piece

### р╕Бр╕▓р╕гр╣Бр╕Ыр╕ер╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

* 1 kg = 1000 g
* 1 L = 1000 ml
* piece = 1:1

### р╕кр╕╣р╕Хр╕г PPU

```
PPU = price / (packCount ├Ч unitAmount_in_baseUnit)
```

### р╕Бр╕Ор╕Бр╕▓р╕гр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ

* р╣Ар╕Чр╕╡р╕вр╕Ър╣Др╕Фр╣Йр╣Ар╕Йр╕Юр╕▓р╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щ тАЬр╕Кр╕Щр╕┤р╕Фр╕лр╕Щр╣Ир╕зр╕вр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕ЩтАЭ

  * р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б тЖФ р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б
  * р╕Ыр╕гр╕┤р╕бр╕▓р╕Хр╕г тЖФ р╕Ыр╕гр╕┤р╕бр╕▓р╕Хр╕г
  * р╕Кр╕┤р╣Йр╕Щ тЖФ р╕Кр╕┤р╣Йр╕Щ

---

## ЁЯЦея╕П UX / UI

* Material 3 + р╣Вр╕Чр╕Щр╕кр╕Фр╣Гр╕к (р╕Юр╕╖р╣Йр╕Щр╕лр╕ер╕▒р╕Зр╕Яр╣Йр╕▓, accent р╣Ар╕Вр╕╡р╕вр╕з/р╕кр╣Йр╕б)
* **р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б (Home)**

  * р╕ер╕┤р╕кр╕Хр╣Мр╕кр╕┤р╕Щр╕Др╣Йр╕▓ + р╕гр╕▓р╕Др╕▓р╕Хр╣Ир╕нр╕лр╕Щр╣Ир╕зр╕в
  * Highlight р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Цр╕╣р╕Бр╕кр╕╕р╕Ф
  * р╕Кр╣Ир╕нр╕Зр╕Др╣Йр╕Щр╕лр╕▓ + chip filter р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
* **р╕лр╕Щр╣Йр╕▓р╕Яр╕нр╕гр╣Мр╕бр╣Ар╕Юр╕┤р╣Ир╕б/р╣Бр╕Бр╣Йр╕кр╕┤р╕Щр╕Др╣Йр╕▓**

  * р╕нр╕┤р╕Щр╕Юр╕╕р╕Хр╕Др╕гр╕Ъ (р╕Кр╕╖р╣Ир╕н, р╕гр╕▓р╕Др╕▓, pack, unitAmount, р╕лр╕Щр╣Ир╕зр╕в, р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И)
  * Preview р╕гр╕▓р╕Др╕▓р╕Хр╣Ир╕нр╕лр╕Щр╣Ир╕зр╕в real-time
* **р╕лр╕Щр╣Йр╕▓р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤**

  * р╣Бр╕кр╕Фр╕З 3 р╣Ар╕Лр╕кр╕Кр╕▒р╕Щр╕ер╣Ир╕▓р╕кр╕╕р╕Ф тЖТ р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Фр╕╣ detail
* **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И**

  * Bottom sheet (р╣Ар╕Юр╕┤р╣Ир╕б/р╣Бр╕Бр╣Й/р╕ер╕Ъ)
* Animation: Hero, AnimatedList, AnimatedSwitcher
* Empty state: р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ + р╕Ыр╕╕р╣Ир╕б тАЬр╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓тАЭ

---

## ЁЯЧВя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

**Product**

* id (uuid)
* name (string, indexed)
* categoryId (fk)
* price (double, 3 decimals)
* packCount (int)
* unitAmount (double)
* unitType (enum: weight, volume, piece)
* unit (enum: g, kg, ml, L, piece)
* imagePath (nullable)
* createdAt, updatedAt

**Category**

* id
* name (unique)
* color?
* default = тАЬр╕нр╕╖р╣Ир╕Щр╣ЖтАЭ

**CompareSession**

* id, createdAt
* items: snapshot (productId, priceSnapshot, unitAmountSnapshot, packCountSnapshot, ppuSnapshot)

---

## ЁЯТ╛ р╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡ / р╣Др╕ер╕Ър╕гр╕▓р╕гр╕╡

* **Flutter** (Android first)
* State management: **Riverpod**
* Local DB: **Isar**
* р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю: `image_picker` + `flutter_image_compress`
* UI: Material 3, dynamic color (Android 12+)

---

## ЁЯФТ р╕Вр╣Йр╕нр╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

* р╣Др╕бр╣Ир╕бр╕╡ FaceID/р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
* р╣Др╕бр╣Ир╕бр╕╡ export/import
* р╣Др╕бр╣Ир╕бр╕╡ cloud backup
* р╣Ар╕Бр╣Зр╕Ър╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 3 р╣Ар╕Лр╕кр╕Кр╕▒р╕Щ

---

## ЁЯОи р╣Вр╕ер╣Вр╕Бр╣Йр╣Бр╕нр╕Ю

* р╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╕Бр╕▓р╕гр╣Мр╕Хр╕╣р╕Щ (р╕Ьр╕бр╣Бр╕Фр╕З) р╕Цр╕╖р╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕кр╕нр╕Зр╕Кр╕Щр╕┤р╕Ф + р╕бр╕╡р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕лр╕бр╕▓р╕в `?` р╣Ар╕лр╕Щр╕╖р╕нр╕лр╕▒р╕з
* р╣Бр╕кр╕Фр╕Зр╕нр╕▓р╕гр╕бр╕Ур╣М **р╕Зр╕Зр╕зр╣Ир╕▓р╕Ир╕░р╣Ар╕ер╕╖р╕нр╕Бр╕нр╕▒р╕Щр╣Др╕лр╕Щр╕Фр╕╡**
* р╕Юр╕╖р╣Йр╕Щр╕лр╕ер╕▒р╕Зр╕Яр╣Йр╕▓, flat-style
* р╣Гр╕Кр╣Й **icon р╣Ар╕Фр╕╡р╣Ир╕вр╕з р╣Ж** (р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б)

---

## ЁЯУж Asset

* Export icon Android р╕лр╕ер╕▓р╕вр╕Вр╕Щр╕▓р╕Ф (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi)
* р╣Др╕Яр╕ер╣Мр╕Хр╣Йр╕Щр╕Йр╕Ър╕▒р╕Ъ PNG 512├Ч512 (transparent) р╣Ар╕Ьр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╣Гр╕Щ splash screen

---

## тЬЕ Roadmap / Sprint

1. Setup project + theme + DB schema
2. Product CRUD + image handling + р╕лр╕Щр╣Ир╕зр╕вр╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Фр╣Й + conversion
3. Compare logic + sort/filter/search + highlight р╕Цр╕╣р╕Бр╕кр╕╕р╕Ф
4. Session/History (3 р╕ер╣Ир╕▓р╕кр╕╕р╕Ф)
5. Polish UI/UX (animation, empty state)
6. Testing (unit, widget, golden)
7. Asset & deployment (icon, splash, store setup)

---

## ЁЯзк Test Focus

* **Unit**: conversion, PPU formula, limit history=3
* **Widget**: form validation, list sorting
* **Golden**: р╕Бр╕▓р╕гр╣Мр╕Фр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (theme light/dark)
* **Persistence**: CRUD + session snapshot

---